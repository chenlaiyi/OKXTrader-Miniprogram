# OKXTrader小程序 - 快速使用指南

## 🚀 5分钟快速开始

### 步骤1: 打开小程序

1. 使用微信开发者工具打开项目
2. 路径：`/Users/chenlaiyi/Oyi/OKly-program/miniprogram`
3. 点击"编译"按钮

### 步骤2: 配置账号

#### 模拟账号（默认）
- ✅ 已默认创建模拟账号
- ✅ 无需配置API密钥
- ✅ 可直接使用测试功能

#### 真实账号
1. 进入"账号"页面（底部Tab）
2. 点击"+ 添加账号"
3. 填写信息：
   ```
   账号名称: 主账号
   模拟账号: 关闭
   API Key: [从OKX获取]
   Secret Key: [从OKX获取]
   Passphrase: [从OKX获取]
   ```
4. 点击"验证"确认API有效
5. 点击"设为默认"设为默认账号

### 步骤3: 启动AI分析

1. 进入"监控"页面（底部Tab）
2. 找到"AI分析"卡片
3. 打开开关启动AI分析
4. 系统会每分钟自动分析市场

### 步骤4: 启动自动交易（可选）

⚠️ **重要：自动交易会实时执行交易，请先使用小资金测试！**

1. 确认已切换到真实账号
2. 进入"监控"页面
3. 确认AI分析已启动
4. 找到"自动交易"卡片
5. 打开开关启动自动交易
6. 实时监控交易状态

---

## 📱 页面说明

### 1. 首页
- 📈 热门行情快速预览
- 🤖 AI分析建议
- 💼 当前持仓
- 🔄 自动交易开关
- ⚡ 快速操作入口

### 2. 交易
- 📊 K线图（待升级）
- 💰 实时价格
- 📉 买入/卖出
- 💼 持仓列表

### 3. 行情
- 📋 完整行情列表
- 📈 价格实时更新
- 📊 涨跌幅显示

### 4. AI分析
- 🤖 AI分析历史
- 📊 信号强度
- 📈 置信度展示
- 💡 交易建议

### 5. 监控 ⭐ NEW
- 🔄 自动交易控制
- 🤖 AI分析控制
- 📊 交易统计
- 💼 持仓监控
- 💰 账户余额
- 📜 分析历史

### 6. 账号
- 👤 账号列表
- ➕ 添加账号
- ✏️ 编辑账号
- 🔑 验证API
- 🎯 设置默认

---

## 🎯 核心功能

### 自动交易

**配置参数**：
- 交易对：ETH-USDT-SWAP
- 最小置信度：70%
- 最大持仓：3个
- 止损：0.2%
- 止盈：1.0%
- 仓位：40%
- 冷却时间：60秒

**启动流程**：
```
1. 切换到真实账号
2. 启动AI分析
3. 启动自动交易
4. 实时监控状态
```

### AI分析

**分析周期**：每分钟一次

**分析内容**：
- SAR指标
- MACD指标
- RSI指标
- 布林带指标

**输出结果**：
- 交易信号（做多/做空）
- 置信度（0-100%）
- 推理过程
- 建议价格
- 止损价格
- 止盈价格

---

## ⚠️ 重要提示

### 自动交易注意事项

1. **资金管理**
   - ❌ 不要使用超过总资金10%的金额
   - ✅ 先用5-10U小资金测试
   - ✅ 确认稳定盈利后再加仓

2. **止损机制**
   - ✅ 硬止损0.2%，不要移动
   - ✅ 止盈1.0%，让利润奔跑
   - ✅ 固定仓位40%，永不加仓

3. **监控要求**
   - ✅ 定期查看交易状态
   - ✅ 关注持仓盈亏
   - ✅ 检查AI分析准确性
   - ✅ 及时调整策略参数

4. **停止条件**
   - ⏸️ 单日亏损15%立即停止
   - ⏸️ 连续亏损5次立即停止
   - ⏸️ 市场异常时停止

### 模拟账号使用

- ✅ 适合学习功能
- ✅ 适合测试策略
- ✅ 不会产生真实亏损
- ❌ 无法进行真实交易

---

## 🔧 常见问题

### Q1: 自动交易没有启动？

**A:** 检查以下几点：
1. 是否切换到真实账号？
2. AI分析是否已启动？
3. 账号是否已验证？
4. 账户是否有足够资金？

### Q2: API验证失败？

**A:** 请确认：
1. API Key是否正确？
2. Secret Key是否正确？
3. Passphrase是否正确？
4. API权限是否包含交易权限？
5. IP白名单是否配置？

### Q3: 如何修改交易参数？

**A:** 修改配置文件：
- 编辑 `services/auto-trading.ts`
- 修改 `private config` 中的参数
- 保存后重新编译

### Q4: 自动交易亏钱了怎么办？

**A:** 立即停止：
1. 关闭自动交易开关
2. 手动平掉所有持仓
3. 分析亏损原因
4. 调整策略参数
5. 小资金重新测试

### Q5: 可以同时使用多个账号吗？

**A:** 可以：
1. 添加多个账号到账号列表
2. 切换到要使用的账号
3. 切换账号会停止当前自动交易
4. 重新启动自动交易

---

## 📊 监控指标

### 交易统计
- **总交易**：累计交易次数
- **盈利**：盈利交易次数
- **亏损**：亏损交易次数
- **胜率**：盈利交易占比

### 持仓监控
- **交易对**：持仓币种
- **方向**：多/空
- **持仓量**：数量
- **入场价**：开仓价格
- **未实现盈亏**：当前盈亏

### AI分析
- **置信度**：信号可信度
- **信号类型**：做多/做空
- **推理过程**：分析逻辑
- **建议价格**：推荐价格

---

## 🚀 最佳实践

### 新手建议
1. ✅ 先用模拟账号熟悉
2. ✅ 了解各页面功能
3. ✅ 阅读完整文档
4. ✅ 小资金测试
5. ✅ 密切监控

### 进阶建议
1. ✅ 优化交易参数
2. ✅ 多策略组合
3. ✅ 风险对冲
4. ✅ 定期复盘
5. ✅ 持续学习

### 高手建议
1. ✅ 自定义策略
2. ✅ 多账号管理
3. ✅ 复杂风控
4. ✅ 量化回测
5. ✅ 系统优化

---

## 📞 获取帮助

### 文档
- `README.md` - 完整开发方案
- `UPGRADE_V2.md` - 升级说明
- `QUICK_START.md` - 快速启动
- `PROJECT_SUMMARY.md` - 项目总结

### 功能页面
- 首页 → 快速操作
- 监控 → 实时状态
- 账号 → 管理账号
- AI分析 → 查看建议

---

**祝交易顺利！** 🚀💰📈
