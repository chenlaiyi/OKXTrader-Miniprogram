# ✅ OKXTrader小程序 - 快速启动检查清单

## 🚀 启动前检查（5分钟）

### 1️⃣ 打开微信开发者工具

- [ ] 打开微信开发者工具（确保是最新版本）
- [ ] 确保已登录微信账号

### 2️⃣ 导入项目

```
项目路径: /Users/chenlaiyi/Oyi/OKly-program/miniprogram
AppID: wxc54ef555c258bbf6（或使用测试号）
项目名称: OKXTrader
```

- [ ] 选择"小程序项目"
- [ ] 导入项目目录
- [ ] 等待项目加载完成

### 3️⃣ 验证配置

在微信开发者工具中：

**详情 → 本地设置**
- [ ] ✅ 不勾选"不校验合法域名"（因为已配置）
- [ ] 打开"不校验请求域名、TLS版本及HTTPS证书" ❌（生产环境不要勾选）

**详情 → 域名信息**
- [ ] request域名: `https://ly.ddg.org.cn` ✅
- [ ] socket域名: `wss://ly.ddg.org.cn` ✅

### 4️⃣ 编译项目

- [ ] 点击工具栏"编译"按钮
- [ ] 等待编译完成
- [ ] 查看模拟器中是否显示小程序

## 🧪 功能测试（10分钟）

### 测试1: 首页显示

访问路径: `pages/index/index`

**检查项**:
- [ ] 页面正常显示
- [ ] 标题显示"OKXTrader"
- [ ] 热门行情卡片显示（6个交易对）
- [ ] 行情数据加载正常
- [ ] AI分析建议显示
- [ ] 自动交易开关可以切换

### 测试2: API接口测试

访问路径: `pages/test/test`

**检查项**:
- [ ] 打开测试页面
- [ ] 点击"重新测试"按钮
- [ ] 所有9个API测试成功
- [ ] 响应时间 < 2秒

**预期结果**:
```
✅ 测试1: 获取行情列表 - 成功
✅ 测试2: 获取K线数据 - 成功
✅ 测试3: 获取AI分析 - 成功
✅ 测试4: 获取持仓列表 - 成功
✅ 测试5: 获取账户余额 - 成功
✅ 测试6: 获取自动交易状态 - 成功
✅ 测试7: 获取策略列表 - 成功
✅ 测试8: 获取交易历史 - 成功
✅ 测试9: 获取聊天历史 - 成功
```

### 测试3: TabBar切换

**检查项**:
- [ ] 点击"首页"Tab - 正常显示
- [ ] 点击"交易"Tab - 正常显示
- [ ] 点击"行情"Tab - 正常显示
- [ ] 点击"AI分析"Tab - 正常显示
- [ ] 点击"我的"Tab - 正常显示

### 测试4: 交易页面

访问路径: `pages/trading/trading`

**检查项**:
- [ ] 显示当前交易对价格
- [ ] "做多"按钮可点击
- [ ] "做空"按钮可点击
- [ ] 点击后弹出确认框
- [ ] 确认后显示结果提示

### 测试5: 行情页面

访问路径: `pages/market/market`

**检查项**:
- [ ] 显示所有交易对列表
- [ ] 价格数据正常显示
- [ ] 下拉刷新可用

### 测试6: AI分析页面

访问路径: `pages/ai/ai`

**检查项**:
- [ ] 显示AI分析建议
- [ ] 显示置信度
- [ ] 显示分析理由

## 🐛 常见问题排查

### 问题1: 页面空白

**可能原因**:
- API请求失败
- 页面路径错误
- JavaScript错误

**排查步骤**:
1. 打开Console查看错误信息
2. 打开Network查看API请求
3. 查看是否有红色错误提示

### 问题2: API请求失败

**错误信息**: `request:fail url not in domain list`

**解决方案**:
- 确认已配置合法域名
- 检查域名是否为 `https://ly.ddg.org.cn`
- 重新编译项目

### 问题3: 编译错误

**错误信息**: TypeScript编译错误

**解决方案**:
```bash
cd /Users/chenlaiyi/Oyi/OKly-program/miniprogram
npm install
```

然后重新编译。

### 问题4: TabBar不显示

**可能原因**:
- app.json配置错误
- 页面路径不存在

**解决方案**:
1. 检查app.json中的pages数组
2. 确认所有页面文件存在
3. 重启开发者工具

## 📱 真机测试（可选）

### 生成预览码

1. 点击工具栏"预览"按钮
2. 生成预览二维码
3. 微信扫码打开

**真机测试检查**:
- [ ] 首页正常显示
- [ ] 行情数据正常加载
- [ ] API接口调用成功
- [ ] 交易功能可用

## ✅ 启动成功标准

如果满足以下条件，说明启动成功：

1. ✅ 小程序正常编译和显示
2. ✅ 首页数据加载正常
3. ✅ API接口测试全部通过（9/9成功）
4. ✅ TabBar切换正常
5. ✅ 交易页面功能可用

## 🎯 下一步操作

启动成功后，可以：

1. **完善功能**
   - 集成echarts K线图
   - 添加WebSocket实时更新
   - 完善策略编辑功能

2. **优化体验**
   - 添加加载动画
   - 优化错误提示
   - 完善空状态页面

3. **准备发布**
   - 添加TabBar图标
   - 配置隐私协议
   - 提交审核

## 📞 需要帮助？

如果遇到问题：

1. **查看文档**
   - README.md - 开发方案
   - DEVELOPMENT.md - 开发总结
   - SETUP_GUIDE.md - 配置指南

2. **检查日志**
   - Console日志
   - Network请求
   - 真机调试日志

3. **验证配置**
   - 合法域名配置
   - API服务状态
   - 网络连接

## 🎉 完成时间预估

- 启动检查: 5分钟
- 功能测试: 10分钟
- 问题排查: 5-15分钟
- **总计**: 20-30分钟

---

**提示**: 第一次启动可能需要一些时间编译TypeScript，请耐心等待。编译成功后会自动刷新页面。
