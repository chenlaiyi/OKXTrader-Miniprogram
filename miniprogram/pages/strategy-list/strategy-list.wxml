<view class="container">
  <view class="header">
    <text class="title">ç­–ç•¥ç®¡ç†</text>
    <text class="subtitle">åªèƒ½å¯ç”¨ä¸€ä¸ªç­–ç•¥</text>
  </view>

  <scroll-view class="content" scroll-y>
    <view class="create-strategy-btn" bindtap="createNewStrategy">
      <text class="create-icon">+</text>
      <text class="create-text">åˆ›å»ºæ–°ç­–ç•¥</text>
    </view>

    <view wx:if="{{loading}}" class="loading-row">
      <text class="loading-text">åŠ è½½ä¸­...</text>
    </view>

    <view wx:if="{{!loading && strategyList.length === 0}}" class="empty-state">
      <text class="empty-icon">ğŸ“„</text>
      <text class="empty-text">è¿˜æ²¡æœ‰ç­–ç•¥ï¼Œå…ˆåˆ›å»ºä¸€ä¸ªå§</text>
    </view>

    <view class="strategy-list" wx:if="{{!loading && strategyList.length > 0}}">
      <view
        class="strategy-item {{item.isEnabled ? 'active' : ''}}"
        wx:for="{{strategyList}}"
        wx:key="id"
      >
        <view class="strategy-main">
          <view class="strategy-left">
            <view class="strategy-badge {{item.isEnabled ? 'active' : ''}}">
              <text class="badge-icon">{{item.isEnabled ? 'âœ“' : 'â—‹'}}</text>
            </view>
            <view class="strategy-info">
              <view class="strategy-title-row">
                <text class="strategy-name">{{item.name}}</text>
                <text class="strategy-type-tag">{{item.strategyTypeLabel}}</text>
              </view>
              <text class="strategy-desc">{{item.description}}</text>
            </view>
          </view>

          <view class="strategy-stats" wx:if="{{item.performance.totalTrades > 0}}">
            <view class="stat-tag">
              <text class="stat-label">äº¤æ˜“</text>
              <text class="stat-value">{{item.performance.totalTrades}}</text>
            </view>
            <view class="stat-tag {{item.performance.winRate >= 50 ? 'green' : 'red'}}">
              <text class="stat-label">èƒœç‡</text>
              <text class="stat-value">{{item.performance.winRate}}%</text>
            </view>
          </view>
        </view>

        <view class="strategy-actions">
          <button
            class="action-btn edit"
            catchtap="editStrategy"
            data-strategy="{{item}}"
          >
            ç¼–è¾‘
          </button>
          <button
            class="action-btn delete"
            catchtap="deleteStrategy"
            data-strategy="{{item}}"
            wx:if="{{!item.isDefault}}"
          >
            åˆ é™¤
          </button>
          <button
            class="action-btn toggle {{item.isEnabled ? 'active' : ''}}"
            catchtap="toggleStrategyEnabled"
            data-strategy="{{item}}"
          >
            {{item.isEnabled ? 'ç¦ç”¨' : 'å¯ç”¨'}}
          </button>
        </view>
      </view>
    </view>
  </scroll-view>
</view>
