<!--pages/news-detail/news-detail.wxml-->
<view class="container">
  <!-- åŠ è½½ä¸­ -->
  <view class="loading-state" wx:if="{{loading}}">
    <view class="loading-spinner">
      <view class="spinner-ring"></view>
    </view>
    <text>åŠ è½½ä¸­...</text>
  </view>

  <!-- åŠ è½½å¤±è´¥ -->
  <view class="error-state" wx:elif="{{error}}">
    <text class="error-icon">ğŸ“°</text>
    <text class="error-text">{{errorMsg || 'åŠ è½½å¤±è´¥'}}</text>
    <view class="error-actions">
      <view class="back-btn" bindtap="onGoBack">è¿”å›</view>
      <view class="retry-btn" bindtap="onRetry">é‡è¯•</view>
    </view>
  </view>

  <!-- æ–°é—»å†…å®¹ -->
  <view class="news-content" wx:elif="{{news}}">
    <!-- å¤´éƒ¨ä¿¡æ¯ -->
    <view class="news-header">
      <view class="news-meta">
        <view class="news-type-tag {{news.isNew ? 'new' : ''}}">
          {{news.typeName || 'å¿«è®¯'}}
        </view>
        <text class="news-time">{{news.publishTimeFormatted}}</text>
        <text class="news-source">{{news.newsSite || news.author}}</text>
      </view>
      <text class="news-title">{{news.title}}</text>
    </view>

    <!-- ç¼©ç•¥å›¾ -->
    <view class="news-thumbnail" wx:if="{{news.thumbnail}}">
      <image src="{{news.thumbnail}}" mode="aspectFill" class="thumbnail-img"></image>
    </view>

    <!-- æ­£æ–‡å†…å®¹ -->
    <view class="news-body">
      <text class="news-summary" wx:if="{{news.summary}}">{{news.summary}}</text>
      <text class="news-empty" wx:else>æš‚æ— è¯¦ç»†å†…å®¹</text>
    </view>

    <!-- åŸæ–‡ä¿¡æ¯ -->
    <view class="original-info" wx:if="{{news.originalTitle && news.originalTitle !== news.title}}">
      <text class="original-label">åŸæ–‡æ ‡é¢˜</text>
      <text class="original-title">{{news.originalTitle}}</text>
    </view>

    <!-- åº•éƒ¨æ“ä½œ -->
    <view class="news-footer">
      <view class="footer-btn" bindtap="onCopyLink">
        <text class="btn-icon">ğŸ”—</text>
        <text class="btn-text">å¤åˆ¶åŸæ–‡é“¾æ¥</text>
      </view>
      <button class="footer-btn share-btn" open-type="share">
        <text class="btn-icon">ğŸ“¤</text>
        <text class="btn-text">åˆ†äº«</text>
      </button>
    </view>
  </view>
</view>
