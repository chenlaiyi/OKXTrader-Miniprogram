<view class="container">
  <view class="header">
    <text class="title">ğŸ§ª APIæµ‹è¯•é¡µé¢</text>
    <text class="subtitle">éªŒè¯æ‰€æœ‰APIæ¥å£æ˜¯å¦æ­£å¸¸</text>
  </view>

  <view class="info">
    <text class="info-text">APIåœ°å€: https://ly.ddg.org.cn/api</text>
    <text class="info-text">åˆæ³•åŸŸå: âœ… å·²é…ç½®</text>
  </view>

  <view class="actions">
    <button class="btn-test" bindtap="runAllTests" disabled="{{loading}}">
      {{loading ? 'æµ‹è¯•ä¸­...' : 'ğŸ”„ é‡æ–°æµ‹è¯•'}}
    </button>
  </view>

  <view class="results">
    <view class="section-title">æµ‹è¯•ç»“æœ ({{testResults.length}})</view>

    <view class="test-item" wx:for="{{testResults}}" wx:key="name">
      <view class="test-header">
        <text class="test-name">{{item.name}}</text>
        <text class="test-status {{item.status}}">
          {{item.status === 'success' ? 'âœ… æˆåŠŸ' : 'âŒ å¤±è´¥'}}
        </text>
      </view>

      <view class="test-details" wx:if="{{item.status === 'success'}}">
        <text class="test-duration">{{item.duration}}</text>
        <text class="test-data" wx:if="{{item.data}}">
          æ•°æ®: {{item.data ? (item.data.length + 'æ¡' : 'æˆåŠŸ')}}
        </text>
      </view>

      <view class="test-error" wx:else>
        <text class="error-text">é”™è¯¯: {{item.error}}</text>
      </view>
    </view>

    <view class="empty" wx:if="{{testResults.length === 0 && !loading}}">
      <text>ç‚¹å‡»ä¸Šæ–¹æŒ‰é’®å¼€å§‹æµ‹è¯•</text>
    </view>

    <view class="loading" wx:if="{{loading}}">
      <text>æ­£åœ¨æµ‹è¯•APIæ¥å£...</text>
    </view>
  </view>

  <view class="tips">
    <view class="tip-title">ğŸ’¡ æç¤º</view>
    <text class="tip-text">â€¢ ä¸‹æ‹‰å¯åˆ·æ–°æµ‹è¯•</text>
    <text class="tip-text">â€¢ æŸ¥çœ‹ConsoleæŸ¥çœ‹è¯¦ç»†æ—¥å¿—</text>
    <text class="tip-text">â€¢ æ‰€æœ‰æµ‹è¯•åº”åœ¨2ç§’å†…å®Œæˆ</text>
  </view>
</view>
